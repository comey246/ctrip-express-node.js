import{r as m,M as b,j as a,S as O,B as P}from"./index-f1a77953.js";import{f as v}from"./mall-3334e9f8.js";import{P as C,a as D,b as E}from"./index-2f76128d.js";import{D as s}from"./index-e7d1e950.js";const w=S=>{var p,d,y;const{order:i}=S,[c,n]=m.useState(0),[e,x]=m.useState({}),[t,h]=m.useState({}),j=async()=>{var _;const{code:r,data:l}=await v({user_id:i});r===200&&(console.log(l),x(l),h((_=l==null?void 0:l.info)==null?void 0:_.flight))},B=(r,l)=>{n(r)},u=()=>{n(0)};if(m.useEffect(()=>{j()},[c]),c===0)return b(s,{title:"订单详情",layout:"vertical",bordered:!0,children:[b(s.Item,{label:"商品名称",children:[e==null?void 0:e.type,t==null?void 0:t.flight_number]}),a(s.Item,{label:"订单编号",children:i}),a(s.Item,{label:"出发日期",children:t==null?void 0:t.date}),a(s.Item,{label:"下单时间",children:e==null?void 0:e.order_time}),a(s.Item,{label:"出发时间/地点",children:t==null?void 0:t.arrival_time}),a(s.Item,{label:"到达时间/地点",children:t==null?void 0:t.departure_time}),a(s.Item,{label:"Status",children:a(O,{status:(e==null?void 0:e.status)===200?"success":"processing",text:(e==null?void 0:e.status)===200?"已支付":"未支付"})}),a(s.Item,{label:"付款时间",children:(e==null?void 0:e.status)===200?e==null?void 0:e.pay_time:"暂无"}),a(s.Item,{label:"确认支付",children:(e==null?void 0:e.status)===200?a(P,{disabled:!0,children:"已支付"}):a(P,{type:"primary",onClick:()=>{n(2)},children:"支付"})}),a(s.Item,{label:"单价",children:t==null?void 0:t.price}),a(s.Item,{label:"数量",children:e==null?void 0:e.number}),a(s.Item,{label:"总价",children:e==null?void 0:e.total}),b(s.Item,{label:"更多信息",children:["姓名:",(p=e==null?void 0:e.info)==null?void 0:p.name,"   手机号:",(d=e==null?void 0:e.info)==null?void 0:d.phone,a("br",{}),"身份证:",(y=e==null?void 0:e.info)==null?void 0:y.idNumber,a("br",{}),"航班号: ",t==null?void 0:t.flight_number," 航空公司: ",t==null?void 0:t.airline," 飞机型号: ",t==null?void 0:t.planeModel,a("br",{}),"起飞地: ",t==null?void 0:t.originLabel," 最终到达: ",t==null?void 0:t.destinationLabel,a("br",{})]})]});if(c===2)return a(C,{order:i,payResult:B,handleCancel:u});if(c===3)return a(D,{order:i,handleCancel:u});if(c===-1)return a(E,{handleCancel:u})};export{w as default};
